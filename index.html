<!DOCTYPE html> 

<html>

<head>

<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>jQuery Mobile Web App</title>

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0b2/jquery.mobile-1.0b2.min.css" />

<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.2.min.js"></script>

<script type="text/javascript" src="http://code.jquery.com/mobile/1.0b2/jquery.mobile-1.0b2.min.js"></script>

<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>

<script src="jquery.ui.map.min.js"></script>

<script type="text/javascript" src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobubble/src/infobubble.js"></script>

    <script type="text/javascript">
        $("#mapPage").live("pageshow", function () {
            $("#map_canvas").gmap({
                'center': new google.maps.LatLng(42.345573, -71.098326),
                'zoom': 13,
                'callback': function () {          
                    $("#map_canvas").gmap('addMarker', {
                        'position': new google.maps.LatLng(42.345573, -71.098326),
                        'icon': "img/Pushpin.png",
                        'title': "My marker"
                    });

                    var info_bubble_content = '<div>' +
                        '<p>My marker</p>' +
                        '<p>Text</p>'
                    '</div>';
                    var info_bubble = new InfoBubble({
                        content: info_bubble_content,
                        position: new google.maps.LatLng(42.349391, -71.094024),
                        backgroundColor: 'rgb(40,27,180)',
                        hideCloseButton: true,
                        arrowSize: 9,
                        arrowStyle: 1,
                        borderRadius: 0,
                        padding: 6
                    });

                    info_bubble.open(map);
                }
            })
        });
    </script>
</head> 

<body> 



<div data-role="page" id="page">

	<div data-role="header">

		<h1>Page One</h1>

	</div>

	<div data-role="content">	

		<ul data-role="listview">

			<li><a href="#page2">Page Two</a></li>

            <li><a href="#page3">Page Three</a></li>

			<li><a href="#mapPage">Our Location</a></li>

		</ul>		

	</div>

	<div data-role="footer">

		<h4>Page Footer</h4>

	</div>

</div>



<div data-role="page" id="page2" data-title="Page 2">

	<div data-role="header">

		<h1>Page Two</h1>

	</div>

	<div data-role="content">	

		Content		

	</div>

	<div data-role="footer">

		<h4>Page Footer</h4>

	</div>

</div>



<div data-role="page" id="page3" data-title="Page 3">

	<div data-role="header">

		<h1>Page Three</h1>

	</div>

	<div data-role="content">	

		Content		

	</div>

	<div data-role="footer">

		<h4>Page Footer</h4>

	</div>

</div>

<div data-role="page" id="mapPage">

    <div data-role="header">
        <h1>Our Location</h1>
    </div>

    <div data-role="content">
        <div id="map_canvas" style="width:100%;height:400px;"></div>
    </div>
    
    <div data-role="footer">
        <h4>Footer content</h4>
    </div>
    
</div>



</body>

</html>

